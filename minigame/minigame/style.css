/* ===== 像素风格改版（棕灰色钟表） ===== */
:root{
  --bg:#1a1a1a;
  --panel:#2b2b2b;
  --ink:#ffffff;
  --accent:#4caf50;
  --alert:#ff4444;
  --warn:#ffbb33;
  --dial-bg:#5c5248;   /* 棕灰色背景 */
  --dial-border:#3b342d; /* 边框深棕灰 */
}

*{box-sizing:border-box; image-rendering: pixelated;}
html,body{height:100%}
body{
  margin:0; background:var(--bg);
  color:var(--ink); font:12px/1.4 'Press Start 2P', monospace;
  display:flex; align-items:center; justify-content:center; user-select:none;
}
.game{ width:min(960px, 96vw); padding:12px; }

/* HUD 与徽章 */
.hud{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-bottom:10px; }
.badge{
  background:var(--panel);
  border:2px solid #000;
  padding:4px 8px;
  border-radius:0;
  display:flex; align-items:center; gap:6px;
  font-size:10px;
  box-shadow:2px 2px 0 #000;
}
.dot{width:8px; height:8px; background:var(--accent); border:1px solid #000;}

/* 按钮像素风 */
.btn{
  appearance:none; border:2px solid #000;
  background:#3a3a3a; color:#fff;
  padding:6px 10px; border-radius:0; cursor:pointer;
  font-size:10px;
  box-shadow:2px 2px 0 #000;
}
.btn:hover{ background:#555; }
.btn:active{ transform:translate(1px,1px); box-shadow:none; }

.row{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }

/* 舞台与面板 */
.stage{
  position:relative; background:var(--panel);
  border:2px solid #000;
  border-radius:0; padding:12px;
  display:grid; grid-template-columns:300px 1fr; gap:16px;
}
@media (max-width:860px){ .stage{ grid-template-columns:1fr } }

.dial-wrap{ position:relative; aspect-ratio:1/1; background:var(--dial-bg); border:2px solid var(--dial-border); }
svg{ width:100%; height:100%; display:block }
.needle{ transform-origin:50% 50%; }

.panel{
  background:var(--panel);
  border:2px solid #000; border-radius:0;
  padding:12px; display:flex; flex-direction:column; gap:10px;
}

/* 进度条 */
.bar{ height:14px; background:#000; border:2px solid #000; border-radius:0; overflow:hidden }
.bar>i{ display:block; height:100%; width:0%; background:var(--accent); box-shadow: inset -2px -2px 0 #000; transition:width .2s steps(2) }

/* 日志区域 */
.log{ min-height:60px; max-height:140px; overflow:auto; font-size:10px; padding:6px; background:#111; border:2px solid #000; }
.log p{ margin:.2em 0; }
.log .bad{ color:var(--alert) }
.log .good{ color:var(--accent) }
.log .warn{ color:var(--warn) }

/* 控制提示 */
.control{ display:flex; flex-wrap:wrap; gap:6px; align-items:center; font-size:10px; }
.kbd{ font-weight:700; background:#000; color:#fff; padding:2px 4px; border:2px solid #fff; border-radius:0; }

/* 浮动提示 */
.float-msg{
  position:absolute; left:50%; top:8px; transform:translateX(-50%);
  padding:6px 8px; border:2px solid #000; border-radius:0;
  background:#222;
  font-size:10px; color:#fff;
  display:none; white-space:nowrap;
  box-shadow:2px 2px 0 #000;
}

/* 动画效果改为像素闪烁 */
.pulse{ animation:pulse 1s steps(2) infinite }
@keyframes pulse { 0%{opacity:1} 50%{opacity:.5} 100%{opacity:1} }
.danger{ animation:dang 0.15s steps(2) 3 }
@keyframes dang{ 0%,100%{ transform:translateX(0)} 50%{ transform:translateX(-2px)} }

.mobile-tap{ display:none }
@media (hover:none), (pointer:coarse){ .mobile-tap{ display:block } }
.muted{ opacity:.7 }
